
TextLayer
================================

.. raw:: html

    <iframe width="650" height="400" src="../_static/text_layer.html"></iframe>

Source
------

.. code-block:: python

    """
    TextLayer
    ========

    Names of various public transit stops within San Francisco, plotted at the location of that stop
    """

    import pydeck as pdk
    import pandas as pd

    TEXT_LAYER_DATA = "https://raw.githubusercontent.com/uber-common/deck.gl-data/master/website/bart-stations.json"  # noqa
    df = pd.read_json(TEXT_LAYER_DATA)

    # Define a layer to display on a map
    layer = pdk.Layer(
        "TextLayer",
        df,
        pickable=True,
        get_position="coordinates",
        get_text="name",
        get_size=16,
        get_color=[255, 255, 255],
        get_angle=0,
        # Note that string constants in pydeck are explicitly passed as strings
        # This distinguishes them from columns in a data set
        get_text_anchor="'middle'",
        get_alignment_baseline="'center'",
    )

    # Set the viewport location
    view_state = pdk.ViewState(latitude=37.7749295, longitude=-122.4194155, zoom=10, bearing=0, pitch=45)

    # Render
    r = pdk.Deck(
        layers=[layer],
        initial_view_state=view_state,
        tooltip={"text": "{name}\n{address}"},
        map_style="mapbox://styles/mapbox/satellite-v9",
    )
    r.to_html("text_layer.html", notebook_display=False)


.. raw:: html

    <br />
    <a style="float:left;" target="_blank" href="../_static/text_layer.html">Full screen example</a>
    <a style="float:right;" target="_blank" href="https://deck.gl/#/documentation/deckgl-api-reference/layers/text-layer">deck.gl docs</a>
